#
# PKGBUILD for cone
#
# This version has no dependencies to other courier libraries.
#
# Contributor: Uffe Jakobsen <uffe@uffe.org>
# Maintainer: Uffe Jakobsen <uffe@uffe.org>
#
_pkgname=cone
pkgname=$_pkgname-simple
pkgver=0.90
pkgrel=1
pkgdesc="Curses text-based mail client - handles multiple POP3, IMAP accounts, and local mail folders. contains a simple newsreader. This version has no dependencies to other courier libraries."
arch=('i686', 'x86_64')
url="http://courier-mta.org/cone/"
license=('GPL2')
conflicts=('cone')
groups=('network')
#depends=('libxml2' 'libidn' 'libldap' 'gamin' 'aspell')
depends=('libxml2' 'libidn' 'libldap' 'aspell')
source=(http://sourceforge.net/projects/courier/files/cone/$pkgver/cone-$pkgver.tar.bz2)
md5sums=('fce2ff83bef7294aca7caffa20090a6b')

prepare() {
  cd "$srcdir/$_pkgname-$pkgver"
  #patch -p1 -i "$srcdir/fastforward-cc-conf.patch"
}

build() {
  cd "$srcdir/$_pkgname-$pkgver"
  ./configure \
    --prefix=/usr \
    --exec-prefix=/usr \
    --sysconfdir=/etc \
    --libexec=/usr/lib \
    --localstatedir=/var/lib/misc \
    --docdir=/usr/share/doc/cone \
    --htmldir=/usr/share/doc/cone/html \
    --with-certdb=/usr/share/cone/rootcerts 
  make
}

check() {
  cd "$srcdir/$_pkgname-$pkgver"
  make -k check
}

package() {
  cd "$srcdir/$_pkgname-$pkgver"
  make DESTDIR="$pkgdir" install
}

# EOF
